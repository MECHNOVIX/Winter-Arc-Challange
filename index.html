<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Winter Arc Challenge</title>
<style>
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #1e3c72, #2a5298);
    color: #fff;
    display: flex;
    justify-content: center;
    padding: 20px;
  }

  .container {
    background: rgba(0,0,0,0.7);
    border-radius: 20px;
    padding: 30px;
    max-width: 500px;
    width: 100%;
    box-shadow: 0 0 30px rgba(255,255,255,0.2);
  }

  h1 {
    text-align: center;
    font-size: 28px;
    background: linear-gradient(to right, #ff6b6b, #feca57);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 10px;
  }

  p.subtitle {
    text-align: center;
    font-size: 14px;
    margin-bottom: 20px;
  }

  .button-rule {
    background: #ff6b6b;
    border: none;
    width: 100%;
    padding: 12px;
    border-radius: 12px;
    font-weight: bold;
    font-size: 16px;
    cursor: pointer;
    margin-bottom: 20px;
    transition: 0.3s;
  }
  .button-rule:hover { background: #ff4757; }

  .form-group { margin-bottom: 15px; }
  input, textarea {
    width: 100%;
    padding: 12px;
    border-radius: 12px;
    border: none;
    margin-top: 5px;
    font-size: 14px;
  }
  textarea { height: 100px; resize: none; }

  button.submit-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(to right, #1dd1a1, #10ac84);
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
  }
  button.submit-btn:hover { transform: scale(1.05); background: linear-gradient(to right, #10ac84, #0fb07f); }

  .confirmation {
    text-align: center;
    margin-top: 20px;
    font-size: 16px;
    color: #ffeaa7;
  }

  .progress-container {
    background: rgba(255,255,255,0.2);
    border-radius: 12px;
    margin-bottom: 20px;
    height: 15px;
    width: 100%;
  }
  .progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(to right, #ff6b6b, #feca57);
    border-radius: 12px;
    transition: width 0.3s;
  }

  .modal { display: none; position: fixed; z-index: 10; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.85); }
  .modal-content { background: #2c3e50; margin: 10% auto; padding: 20px; border-radius: 20px; max-width: 600px; color: #fff; }
  .close { color: #ff6b6b; float: right; font-size: 24px; font-weight: bold; cursor: pointer; }
  .rules-card {
    background: rgba(255,255,255,0.1);
    padding: 12px;
    margin: 10px 0;
    border-radius: 12px;
    display: flex;
    align-items: center;
    font-size: 14px;
  }
  .rules-card span { font-size: 20px; margin-right: 10px; }
</style>
</head>
<body>

<div class="container">
  <h1>Winter Arc Challenge üî•</h1>
  <p class="subtitle">4 Months Extreme Home Transformation | Push Your Limits & Share Your Progress!</p>

  <button class="button-rule" id="ruleBtn">üìñ View Rule Book</button>

  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <form id="arcForm">
    <div class="form-group">
      <label>First Name üí¨</label>
      <input type="text" name="firstName" placeholder="Your Name" required>
    </div>
    <div class="form-group">
      <label>Instagram ID üì∏</label>
      <input type="text" name="instaID" placeholder="@yourhandle" required>
    </div>
    <div class="form-group">
      <label>Message to Yourself ‚úâÔ∏è</label>
      <textarea name="message" placeholder="Write something motivational" required></textarea>
    </div>
    <button type="submit" class="submit-btn">I‚Äôm Ready ‚Äì Bring the Heat üî•</button>
  </form>

  <p class="confirmation" id="confirmation"></p>
</div>

<div id="ruleModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Winter Arc Challenge Rules</h2>
    <div class="rules-card"><span>üìÖ</span>Duration: Sept 1 ‚Äì Dec 31</div>
    <div class="rules-card"><span>üí™</span>Daily workouts: Push-ups, Pull-ups, Sit-ups, Core, etc.</div>
    <div class="rules-card"><span>üì∏</span>Upload daily Instagram Reels showing workouts, study, or skills.</div>
    <div class="rules-card"><span>üéØ</span>Completion: At least 1000 push-ups, 1000 pull-ups, 1000 sit-ups by end.</div>
    <div class="rules-card"><span>üçé</span>Diet: Follow a plan based on your goal (Muscle Gain / Fat Loss).</div>
    <div class="rules-card"><span>‚≠ê</span>Scoring: Effort, consistency, progress on Instagram.</div>
    <div class="rules-card"><span>üõ°Ô∏è</span>Honesty: No cheating; submissions are proof.</div>
    <div class="rules-card"><span>‚úâÔ∏è</span>Motivation Message: Write a personal message to yourself.</div>
  </div>
</div>

<script>
  // Modal
  const modal = document.getElementById("ruleModal");
  const btn = document.getElementById("ruleBtn");
  const span = document.getElementsByClassName("close")[0];
  btn.onclick = () => modal.style.display = "block";
  span.onclick = () => modal.style.display = "none";
  window.onclick = (e) => { if(e.target==modal) modal.style.display="none"; }

  // Progress Meter
  const progressBar = document.getElementById('progressBar');
  const formInputs = document.querySelectorAll('#arcForm input, #arcForm textarea');
  formInputs.forEach(input => {
    input.addEventListener('input', () => {
      const filled = Array.from(formInputs).filter(i => i.value.trim() !== '').length;
      const progress = (filled / formInputs.length) * 100;
      progressBar.style.width = progress + '%';
    });
  });

  // Web3Forms Submission
  const form = document.getElementById('arcForm');
  const confirmation = document.getElementById('confirmation');

  form.addEventListener('submit', async function(e){
    e.preventDefault();

    const data = {
      access_key: "8a9130ab-4873-4af0-81ea-835cf1b4fa04",
      name: form.firstName.value,
      email: form.instaID.value,
      message: form.message.value,
      subject: "Winter Arc Challenge Submission"
    };

    try {
      const response = await fetch('https://api.web3forms.com/submit', {
        method: 'POST',
        headers: { 
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: JSON.stringify(data)
      });

      const result = await response.json();

      if(result.success){
        confirmation.innerText = "üî• Challenge Started! Keep pushing!";
        form.reset();
        progressBar.style.width = '0%';
      } else {
        console.log(result);
        confirmation.innerText = "‚ùå Submission failed. Check console!";
      }

    } catch(err){
      console.error(err);
      confirmation.innerText = "‚ùå Submission error. Check your internet.";
    }
  });
</script>

</body>
</html>
